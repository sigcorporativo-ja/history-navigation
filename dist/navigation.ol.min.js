!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)}([function(t,e,n){},function(t,e){t.exports='<div class="m-control m-navigationzoomcontrol-container">\n    <button id="m-navigationzoomin-button" class="g-cartografia-zoom-mas" title="Acercar"></button>\n    <button id="m-navigationzoomout-button" class="g-cartografia-zoom-menos" title="Alejar"></button>\n</div>'},function(t,e){t.exports='<div class="m-control m-navigationzoomextent-container">\n   <button id="m-navigationzoomextent-button" class="g-cartografia-mundo" title="Zoom a la extensión del mapa"></button>\n</div>'},function(t,e){t.exports='<div class="m-control m-navigationzoomhistory-container">\n   <button id="m-navigationzoomprevious-button" class="g-cartografia-flecha-izquierda3" title="Zoom previo"></button>\n   <button id="m-navigationzoomnext-button" class="g-cartografia-flecha-derecha3" title="Zoom siguiente"></button>\n</div>'},function(t,e){t.exports='<div class="m-control m-navigationscale-container">\n   <select id="m-navigationscale-select" name="scales" class="g-cartografia-navigationscale-select" title="Selector de escala">\n      <option value="0">Escala</option>\n   </select>\n</div>'},function(t,e){t.exports='<div class="m-control m-navigationcoordinates-container">\n\t<label id="m-navigation-coordinateX-label" class="g-cartografia-navigation-coordinateX-label">X:</label>\n\t<input type="text" id="m-navigation-coordinateX-input" class="g-cartografia-navigation-coordinateX-input" title="Centrar en coordenada" placeholder="Coordenada X">\n\t<label id="m-navigation-coordinateY-label" class="g-cartografia-navigation-coordinateY-label">Y:</label>\n\t<input type="text" id="m-navigation-coordinateY-input" class="g-cartografia-navigation-coordinateY-input" title="Centrar en coordenada" placeholder="Coordenada Y">\n\t<button id="m-navigationcoordinatesapply-button" class="g-cartografia-gps4" title="Centrar en este punto"></button>\n\t<button id="m-navigationcoordinatesclear-button" class="g-cartografia-cancelar2" title="Borrar centrado"></button>\n</div>'},function(t){t.exports=JSON.parse('{"url":{"name":"Navigation","separator":"*"},"constructor":"M.plugin.Navigation","parameters":[{"type":"object","properties":[{"type":"array","name":"controls","position":0},{"type":"object","name":"options","position":1,"properties":[{"type":"boolean","name":"scaleCtl","position":0},{"type":"object","name":"scaleConfig","position":1,"properties":[{"type":"array","name":"scales","position":0}]},{"type":"boolean","name":"coordinatesCtl","position":2}]}]}],"files":{"ol":{"scripts":["navigation.ol.min.js"],"styles":["navigation.ol.min.css"]}},"metadata":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"05/08/21","name":"Navigation","description":"Conjunto de herramientas de navegación","text":"Incluye: acercarse, alejarse, selector de escala, vista anterior, vista posterior, zoom a coordenada y extensión máxima.","version":"2.0.0","date":"05/08/21","author":"CMAOT","org":"CMAOT","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]},"centralized":false,"compatibility":["5.2.0","6.0.0"]}}')},function(t,e,n){"use strict";n.r(e);n(0);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(f,M.impl.Control);var e,n,o,u=c(f);function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),u.call(this)}return e=f,(n=[{key:"addTo",value:function(t,e){i(l(f.prototype),"addTo",this).call(this,t,e)}},{key:"doZoom",value:function(t){var e,n;e=!(n=t>1);var o=this.facadeMap_.getMapImpl().getView(),r=this.facadeMap_.getResolutions(),i=o.getResolution(),a=i;if(n&&0!==r.indexOf(i)||e&&r.indexOf(i)!=r.length-1){var c=this.closestResolution(r,i);a=n?r[r.indexOf(c)-1]:r[r.indexOf(c)+1]}o.animate({center:o.getCenter(),resolution:a,duration:500})}},{key:"closestResolution",value:function(t,e){var n,o=1e3,r=0;for(r in t){var i=Math.abs(e-t[r]);i<o&&(o=i,n=t[r])}return n}}])&&r(e.prototype,n),o&&r(e,o),f}(),s=n(1),p=n.n(s);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(i,M.Control);var e,n,o,r=v(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(f)&&M.exception("La implementación usada no puede crear controles NavigationZoomControl");var e=new f;return(t=r.call(this,e,"NavigationZoomControl")).impl_=e,t.NAME="navigationzoomcontrol",t}return e=i,(n=[{key:"createView",value:function(t){var e=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var n,o={};M.utils.isUndefined(e)||(o=M.utils.extends(o,e.vars),n=e.parseToHtml);var r=Handlebars.compile(t)(o);return!1!==n?M.utils.stringToHtml(r):r}),new Promise((function(t,n){var o=M.template.compileSync(p.a);e.addEvents(o),t(o)}))}},{key:"addEvents",value:function(t){var e=this;t.getElementsByTagName("button")["m-navigationzoomin-button"].addEventListener("click",(function(t){e.onZoomInClick()}),!1),t.getElementsByTagName("button")["m-navigationzoomout-button"].addEventListener("click",(function(t){e.onZoomOutClick()}),!1)}},{key:"onZoomInClick",value:function(){this.impl_.doZoom(.5)}},{key:"onZoomOutClick",value:function(){this.impl_.doZoom(2)}}])&&d(e.prototype,n),o&&d(e,o),i}();function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function O(t,e,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=R(t);if(e){var r=R(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return P(this,n)}}function P(t,e){return!e||"object"!==w(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(i,M.impl.Control);var e,n,o,r=j(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this)}return e=i,(n=[{key:"addTo",value:function(t,e){O(R(i.prototype),"addTo",this).call(this,t,e)}},{key:"zoomToExtent",value:function(){this.facadeMap_.zoomToMaxExtent()}}])&&_(e.prototype,n),o&&_(e,o),i}(),E=n(2),T=n.n(E);function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=I(t);if(e){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(i,M.Control);var e,n,o,r=B(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(C)&&M.exception("La implementación usada no puede crear controles NavigationZoomExtent");var e=new C;return(t=r.call(this,e,"NavigationZoomExtent")).impl_=e,t.NAME="navigationzoomextent",t}return e=i,(n=[{key:"createView",value:function(t){var e=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var n,o={};M.utils.isUndefined(e)||(o=M.utils.extends(o,e.vars),n=e.parseToHtml);var r=Handlebars.compile(t)(o);return!1!==n?M.utils.stringToHtml(r):r}),new Promise((function(t,n){var o=M.template.compileSync(T.a);e.addEvents(o),t(o)}))}},{key:"addEvents",value:function(t){var e=this;t.getElementsByTagName("button")["m-navigationzoomextent-button"].addEventListener("click",(function(t){e.onClick()}),!1)}},{key:"onClick",value:function(){this.impl_.zoomToExtent()}}])&&k(e.prototype,n),o&&k(e,o),i}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function U(t,e,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Y(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Y(t);if(e){var r=Y(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return X(this,n)}}function X(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var D=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(i,M.impl.Control);var e,n,o,r=V(i);function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),r.call(this)}return e=i,(n=[{key:"addTo",value:function(t,e){U(Y(i.prototype),"addTo",this).call(this,t,e),this.facadeMap_=t;var n=this,o=this.facadeMap_.getMapImpl(),r=!0;o.on("moveend",(function(){if(r){var t=n.facadeMap_.getMapImpl().getView(),e=t.getCenter(),o="#map="+t.getZoom()+"/"+Math.round(100*e[0])/100+"/"+Math.round(100*e[1])/100,i={center:t.getCenter(),resolution:t.getResolution()};window.history.pushState(i,"map",o)}else r=!0})),window.addEventListener("popstate",(function(t){M.utils.isUndefined(t.state)||null===t.state||(n.facadeMap_.getMapImpl().getView().animate({center:t.state.center,resolution:t.state.resolution,duration:300}),r=!1)})),e.getElementsByTagName("button")["m-navigationzoomprevious-button"].addEventListener("click",(function(t){n.onPreviousClick()}),!1),e.getElementsByTagName("button")["m-navigationzoomnext-button"].addEventListener("click",(function(t){n.onNextClick()}),!1)}},{key:"onPreviousClick",value:function(){window.history.back()}},{key:"onNextClick",value:function(){window.history.forward()}}])&&H(e.prototype,n),o&&H(e,o),i}(),q=n(3),F=n.n(q);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function K(t,e){return(K=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=$(t);if(e){var r=$(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return W(this,n)}}function W(t,e){return!e||"object"!==J(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}(i,M.Control);var e,n,o,r=Q(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(D)&&M.exception("La implementación usada no puede crear controles NavigationZoomHistory");var e=new D;return(t=r.call(this,e,"NavigationZoomHistory")).NAME="navigationzoomhistory",t}return e=i,(n=[{key:"createView",value:function(t){return M.template.compileSync||(M.template.compileSync=function(t,e){var n,o={};M.utils.isUndefined(e)||(o=M.utils.extends(o,e.vars),n=e.parseToHtml);var r=Handlebars.compile(t)(o);return!1!==n?M.utils.stringToHtml(r):r}),new Promise((function(t,e){t(M.template.compileSync(F.a))}))}}])&&G(e.prototype,n),o&&G(e,o),i}();function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ot(t,e,n){return(ot="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=ct(t);if(e){var r=ct(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return at(this,n)}}function at(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rt(t,e)}(i,M.impl.Control);var e,n,o,r=it(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).scaleConfig=t,e}return e=i,(n=[{key:"addTo",value:function(t,e){ot(ct(i.prototype),"addTo",this).call(this,t,e);var n=this;this.facadeMap_=t;var o=this.scaleConfig.scales.map((function(t){return n.scaleToResolution(t)}));this.facadeMap_.setResolutions(o.sort(this.sortNumber)),this.facadeMap_.refresh(),this.updateSelector(e),t.getMapImpl().on("moveend",(function(){n.updateSelector(e)}))}},{key:"zoomToScale",value:function(t){if("0"!==t){var e=this.facadeMap_.getMapImpl().getView(),n=this.scaleToResolution(t);e.animate({center:e.getCenter(),resolution:n,duration:500})}}},{key:"scaleToResolution",value:function(t){var e=this.facadeMap_.getMapImpl().getView().getProjection().getUnits();return t/(39*ol.proj.Units.METERS_PER_UNIT[e]*(25.4/.35))}},{key:"resolutionToScale",value:function(t){var e=this.facadeMap_.getMapImpl().getView().getProjection().getUnits();return t*(39*ol.proj.Units.METERS_PER_UNIT[e]*(25.4/.35))}},{key:"updateSelector",value:function(t){for(var e=this.facadeMap_.getMapImpl().getView(),n=Math.round(this.resolutionToScale(e.getResolution())),o=t.querySelector("select"),r=1;r<t.getElementsByTagName("option").length;r++)if(n==t.getElementsByTagName("option")[r].getAttribute("value")){o.selectedIndex=r;break}}},{key:"sortNumber",value:function(t,e){return e-t}}])&&nt(e.prototype,n),o&&nt(e,o),i}(),lt=n(4),ft=n.n(lt);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function yt(t,e){return(yt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=vt(t);if(e){var r=vt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return mt(this,n)}}function mt(t,e){return!e||"object"!==st(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&yt(t,e)}(i,M.Control);var e,n,o,r=dt(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(ut)&&M.exception("La implementación usada no puede crear controles NavigationScale"),t=t||{},(M.utils.isNullOrEmpty(t)||M.utils.isNullOrEmpty(t.scales))&&(t.scales=[1e3,2e3,5e3,1e4,25e3,5e4,1e5,15e4,25e4,5e5,1e6]);var n=new ut(t);return(e=r.call(this,n,"NavigationScale")).impl_=n,e.NAME="navigationScale",e.defaultSCALES=[1e3,2e3,5e3,1e4,25e3,5e4,1e5,15e4,25e4,5e5,1e6],e.scaleConfig=t,e}return e=i,(n=[{key:"createView",value:function(){var t=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var n,o={};M.utils.isUndefined(e)||(o=M.utils.extends(o,e.vars),n=e.parseToHtml);var r=Handlebars.compile(t)(o);return!1!==n?M.utils.stringToHtml(r):r}),new Promise((function(e,n){var o=M.template.compileSync(ft.a);t.addEvents(o),e(o)}))}},{key:"addEvents",value:function(t){var e=this;t.getElementsByTagName("select")["m-navigationscale-select"].addEventListener("change",(function(t){e.onScaleChange()}),!1),this.addScaleOptions(t)}},{key:"addScaleOptions",value:function(t){for(var e=t.getElementsByTagName("select")["m-navigationscale-select"],n=0;n<this.scaleConfig.scales.length;n++){var o=document.createElement("option");o.setAttribute("value",this.scaleConfig.scales[n]);var r=document.createTextNode("1:"+this.scaleConfig.scales[n]);o.appendChild(r),e.appendChild(o)}}},{key:"onScaleChange",value:function(){var t=document.getElementById("m-navigationscale-select").value;this.impl_.zoomToScale(t)}}])&&pt(e.prototype,n),o&&pt(e,o),i}();function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function wt(t,e,n){return(wt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=St(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=St(t);if(e){var r=St(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Mt(this,n)}}function Mt(t,e){return!e||"object"!==ht(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function St(t){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(i,M.impl.Control);var e,n,o,r=Ot(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this)).layer=new M.layer.Vector({name:"coordinatesControlLayer"}),t.layer.displayInLayerSwitcher=!1;var e=new M.style.Point({fill:{color:"red"}});return t.layer.setStyle(e),t}return e=i,(n=[{key:"addTo",value:function(t,e){wt(St(i.prototype),"addTo",this).call(this,t,e),this.facadeMap_=t,this.facadeMap_.addLayers(this.layer)}},{key:"centerByCoords",value:function(t,e){if(this.centerClear(),0!==t&&0!==e)if(this.containsCoords(t,e)){var n=this.facadeMap_.getMapImpl().getView(),o=[t,e],r=new M.Feature("featureCenter",{type:"Feature",id:"1",geometry:{type:"Point",coordinates:[t,e]},geometry_name:"geometry"});this.layer.addFeatures([r]);var i=this.facadeMap_.getResolutions(),a=i[i.length-2];n.animate({center:o,resolution:a,duration:500})}else M.dialog.info("Las coordenadas se encuentran fuera de los límites del mapa");else M.dialog.info("Introduzca unas coordenadas")}},{key:"containsCoords",value:function(t,e){var n=this.facadeMap_.getMaxExtent(),o=[t,e];return ol.extent.containsCoordinate(n,o)}},{key:"centerClear",value:function(){this.layer.clear()}},{key:"getLayer",value:function(){return this.layer}}])&&gt(e.prototype,n),o&&gt(e,o),i}(),Pt=n(5),Rt=n.n(Pt);function Ct(t){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Nt(t);if(e){var r=Nt(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return kt(this,n)}}function kt(t,e){return!e||"object"!==Ct(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(i,M.Control);var e,n,o,r=xt(i);function i(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(jt)&&M.exception("La implementación usada no puede crear controles NavigationCoordinates");var e=new jt;return(t=r.call(this,e,"NavigationCoordinates")).impl_=e,M.utils.isUndefined(t.impl_.centerByCoords)&&M.exception("La implementación usada no posee el método centerByCoords"),t.coordXInput_=null,t.coordYInput_=null,t.NAME="navigationcoordinates",t}return e=i,(n=[{key:"createView",value:function(){var t=this;return M.template.compileSync||(M.template.compileSync=function(t,e){var n,o={};M.utils.isUndefined(e)||(o=M.utils.extends(o,e.vars),n=e.parseToHtml);var r=Handlebars.compile(t)(o);return!1!==n?M.utils.stringToHtml(r):r}),new Promise((function(e,n){var o=M.template.compileSync(Rt.a);t.addEvents(o),e(o)}))}},{key:"addEvents",value:function(t){var e=this;this.coordXInput_=t.getElementsByTagName("input")["m-navigation-coordinateX-input"],this.coordYInput_=t.getElementsByTagName("input")["m-navigation-coordinateY-input"],t.getElementsByTagName("button")["m-navigationcoordinatesapply-button"].addEventListener("click",(function(t){e.onCenterApply()}),!1),t.getElementsByTagName("button")["m-navigationcoordinatesclear-button"].addEventListener("click",(function(t){e.onCenterClear()}),!1)}},{key:"onCenterApply",value:function(){this.impl_.centerByCoords(Number(this.coordXInput_.value),Number(this.coordYInput_.value))}},{key:"onCenterClear",value:function(){this.coordXInput_.value="",this.coordYInput_.value="",this.impl_.centerClear()}}])&&Et(e.prototype,n),o&&Et(e,o),i}(),zt=n(6);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=At(t);if(e){var r=At(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ut(this,n)}}function Ut(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(i,M.Plugin);var e,n,o,r=Ht(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=r.call(this)).map_=null,e.controls_=t.controls,e.config_=t.options,e.metadata_=zt.metadata,e}return e=i,(n=[{key:"addTo",value:function(t){var e=this;this.map_=t,this.controls_.unshift(new g),this.controls_.unshift(new Z),this.controls_.unshift(new tt),this.config_.scaleCtl&&this.controls_.push(new bt(this.config_.scaleConfig)),this.config_.coordinatesCtl&&this.controls_.push(new Bt),this.panel_=new M.ui.Panel("navigation",{collapsible:!0,className:"m-navigation",collapsedButtonClass:"g-navigationtools-closed",openedButtonClass:"g-navigationtools-opened",position:M.ui.position.TL,tooltip:"Herramientas de navegación"}),this.panel_.on(M.evt.ADDED_TO_MAP,(function(t){M.utils.enableTouchScroll(t),e.panel_.open()})),this.panel_.addControls(this.controls_),this.map_.addPanels(this.panel_)}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_),this.map_=null}},{key:"getControls",value:function(){return this.controls_}}])&&Zt(e.prototype,n),o&&Zt(e,o),i}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.Navigation=Vt,window.M.control.NavigationCoordinates=Bt,window.M.control.NavigationScale=bt,window.M.control.NavigationZoomControl=g,window.M.control.NavigationZoomExtent=Z,window.M.control.NavigationZoomHistory=tt,window.M.impl.control.NavigationCoordinates=jt,window.M.impl.control.NavigationScale=ut,window.M.impl.control.NavigationZoomControl=f,window.M.impl.control.NavigationZoomExtent=C,window.M.impl.control.NavigationZoomHistory=D}]);
//# sourceMappingURL=navigation.ol.min.js.map